(this["webpackJsonpflicr-api-project"]=this["webpackJsonpflicr-api-project"]||[]).push([[0],{108:function(t,e,a){},136:function(t,e,a){"use strict";a.r(e);var o=a(0),r=a.n(o),n=a(10),c=a.n(n),i=(a(108),a(56)),s=a.n(i),j=a(13),u=a(34),l=a(83),O=a.n(l),f=a(85),d=a.n(f),b=a(89),g=a.n(b),h=a(2),p=function(){return Object(h.jsxs)("div",{className:O.a.navBlock,children:[Object(h.jsx)(u.b,{to:Ht,children:Object(h.jsx)(d.a,{fontSize:"large"})}),Object(h.jsx)(u.b,{to:Jt,children:Object(h.jsx)(g.a,{fontSize:"large"})})]})},v=a(41),m=a(23),P=a(174),x=a(181),_=a(67),E=a.n(_),I=a(91),S=a(25),R=a(7),C=a(92),T="fe6a01fa9267d89be3df137d31d4607c",y=a.n(C).a.create({baseURL:"https://api.flickr.com/services/rest/"}),F=function(t,e){return y.get("?method=flickr.photos.search",{params:{api_key:T,format:"json",page:e,per_page:20,text:t,nojsoncallback:!0,sort:"relevance"}}).then((function(t){return t.data}))},N="FLICR-API-MY-Project/PHOTOS-REDUCER/SET-PHOTOS",A="FLICR-API-MY-Project/PHOTOS-REDUCER/SET-PHOTOS-IS-GETTING-PROGRESS",k="FLICR-API-MY-Project/PHOTOS-REDUCER/SET-SEARCH-NAME",L="FLICR-API-MY-Project/PHOTOS-REDUCER/ADD-TAG",D="FLICR-API-MY-Project/PHOTOS-REDUCER/DELETE-TAG",G="FLICR-API-MY-Project/PHOTOS-REDUCER/SET-PAGE",w="FLICR-API-MY-Project/PHOTOS-REDUCER/SET_NEW_NAME",H="FLICR-API-MY-Project/PHOTOS-REDUCER/SET_NEW_ERROR",J={searchName:"",page:1,pages:0,perpage:0,total:"",photo:[],isGettingPhotosSuccess:!0,isGettingPhotosProgress:!1,newName:"",someError:""},U=function(t,e,a){return{type:N,photos:t,page:e,pages:a}},B=function(t){return{type:A,isGettingPhotosProgress:t}},M=function(t){return{type:G,page:t}},Y=function(t){return{type:H,err:t}},z=function(t,e){return function(){var a=Object(I.a)(E.a.mark((function a(o){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o(B(!0)),o(M(e)),a.prev=2,a.next=5,F(t,e);case 5:"ok"===(r=a.sent).stat&&(o(U(r.photos.photo,r.photos.page,r.photos.pages)),o(Y(""))),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),o(Y("no connection"));case 12:o(B(!1));case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(t){return a.apply(this,arguments)}}()},V=a(172),W=a(173),K="FLICR-API/FAVORITE-REDUCER/SET_F_PHOTO",Z="FLICR-API/FAVORITE-REDUCER/DELETE-F-PHOTO",q="FLICR-API/FAVORITE-REDUCER/ADD-TAG-TO-FAVORITE",X="FLICR-API/FAVORITE-REDUCER/DELETE-TAG-F-FAVORITE",Q=function(){var t={favorite:[]};try{for(var e=Object.keys(localStorage),a=e.length;a--;){var o=JSON.parse(localStorage.getItem(e[a])),r=e[a];t.favorite.push({favoritePhotoId:r,favoritePhoto:o})}}catch(n){console.log("The app can't get data from localeStorage")}return t}(),$=function(t,e){return function(a){a(function(t,e){return{type:K,favoritePhotoId:t,favoritePhoto:e}}(t,e));try{localStorage.setItem(t,JSON.stringify(e))}catch(o){console.log("image can't be added to LocaleStorage")}}},tt=function(t){return function(e){e({type:Z,id:t});try{localStorage.removeItem(t)}catch(a){console.log("image can't be deleted from LocaleStorage")}}},et=function(t,e){return function(a){a(function(t,e){return{type:q,id:t,tag:e}}(t,e));try{var o=JSON.parse(localStorage.getItem(t));o=Object(R.a)(Object(R.a)({},o),{},{tags:[].concat(Object(S.a)(o.tags),[e])}),localStorage.setItem(t,JSON.stringify(o))}catch(r){console.log("tag can't be added to LocaleStorageTS")}}},at=function(t,e){return function(a){a(function(t,e){return{type:X,id:t,tag:e}}(t,e));try{var o=JSON.parse(localStorage.getItem(t));o=Object(R.a)(Object(R.a)({},o),{},{tags:Object(S.a)(o.tags.filter((function(t){return t!==e?1:-1})))}),localStorage.setItem(t,JSON.stringify(o))}catch(r){console.log("tag can't be deleted from LocaleStorageTS")}}},ot=a(68),rt=a.n(ot),nt=function(t){var e=t.tags,a=t.photoId,o=Object(m.b)(),r=function(e){return function(){o(function(t,e){return{type:D,id:t,tag:e}}(a,e)),t.isFavorite&&o(at(a,e))}};return Object(h.jsx)("div",{className:rt.a.tags,children:e.map((function(t,e){return Object(h.jsxs)("div",{className:rt.a.singleTag,children:[Object(h.jsxs)("span",{children:[" ",t]}),Object(h.jsx)(V.a,{size:"small",onClick:r(t),children:Object(h.jsx)(W.a,{color:"primary"})})]},t+e)}))})},ct=a(47),it=a.n(ct),st=r.a.memo((function(t){var e=t.photo,a=e.farm,r=e.tags,n=e.id,c=e.secret,i=e.server,s=Object(m.b)(),j=Object(o.useState)(""),u=Object(v.a)(j,2),l=u[0],O=u[1],f=Object(o.useState)(""),d=Object(v.a)(f,2),b=d[0],g=d[1],p=function(){""!==l.trim()?(s(function(t,e){return{type:L,id:t,tag:e}}(n,l)),t.isFavorite&&s(et(n,l)),O("")):g("Please, add tag")},_="https://farm".concat(a,".staticflickr.com/").concat(i,"/").concat(n,"_").concat(c,".jpg)");return Object(h.jsxs)("div",{className:it.a.photoContainer,children:[Object(h.jsx)("img",{className:it.a.photoImage,src:_,alt:"img is loading :)"}),Object(h.jsx)("div",{className:it.a.button,children:Object(h.jsx)(P.a,{onClick:function(){t.isFavorite?s(tt(n)):s($(n,t.photo))},variant:"outlined",color:"primary",children:t.isFavorite?"Remove  It!":"Bookmark  it!"})}),Object(h.jsx)(nt,{tags:r,photoId:n,isFavorite:t.isFavorite}),Object(h.jsx)(x.a,{className:it.a.button,type:"text",value:l,label:"some tags?",onChange:function(t){t.currentTarget.value.length<16?(O(t.currentTarget.value),g("")):g("long tag")},onKeyPress:function(t){""!==b&&g(""),"Enter"===t.key&&p()},variant:"outlined",error:!!b,helperText:b})]})})),jt=a(175),ut=a(183),lt=a(176),Ot=Object(jt.a)((function(t){return Object(ut.a)({root:{display:"flex","& > * + *":{margin:t.spacing(2)}}})})),ft=function(){var t=Ot();return Object(h.jsx)("div",{className:t.root,children:Object(h.jsx)(lt.a,{color:"secondary"})})},dt=a(182),bt=function(t){var e=t.pagesCount,a=t.currentPage,o=t.onPageChanged;return Object(h.jsx)(h.Fragment,{children:0===e?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(dt.a,{count:e,page:a,onChange:function(t,e){o(e)},showFirstButton:!0,showLastButton:!0})})},gt=function(t,e){return null===e||void 0===e?void 0:e.favorite.some((function(e){return e.favoritePhotoId===t}))},ht=a(69),pt=a.n(ht),vt=a(177),mt=Object(jt.a)((function(t){return{container1:{display:"flex",width:"100%",flexGrow:1,margin:"auto"},item:{padding:t.spacing(2),xs:"12"},itemFlexGrow:{flexGrow:1,border:"1px solid red"}}}));function Pt(){var t=Object(m.c)((function(t){return t})),e=t.photos,a=t.favorite,r=Object(m.b)(),n=Object(o.useState)(e.newName),c=Object(v.a)(n,2),i=c[0],s=c[1],j=Object(o.useState)(t.photos.someError),u=Object(v.a)(j,2),l=u[0],O=u[1],f=mt();Object(o.useEffect)((function(){O(e.someError)}),[e.someError]);var d=function(){""!==i.trim()?(r(z(i,e.page)),r({type:w,name:i})):O("Please, add name to find image")};return e.isGettingPhotosProgress?Object(h.jsx)(ft,{}):Object(h.jsxs)("div",{className:pt.a.findPageContainer,children:[Object(h.jsx)("div",{className:f.container1,children:Object(h.jsxs)(vt.a,{container:!0,children:[Object(h.jsx)(vt.a,{className:f.item,item:!0,xs:8,children:Object(h.jsx)(x.a,{type:"text",value:i,onChange:function(t){s(t.currentTarget.value),O("")},onKeyPress:function(t){""!==l&&O(""),"Enter"===t.key&&d()},variant:"outlined",placeholder:"Print your search",error:""!==l,helperText:l,fullWidth:!0,size:"medium"})}),Object(h.jsx)(vt.a,{className:f.item,item:!0,xs:4,children:Object(h.jsx)(P.a,{onClick:d,variant:"outlined",color:"primary",size:"large",children:"FIND"})})]})}),!e.isGettingPhotosSuccess&&Object(h.jsx)("div",{children:"No image here. Would you like to find anything else?"}),Object(h.jsx)(bt,{currentPage:e.page,pagesCount:e.pages>200?200:e.pages,onPageChanged:function(t){r(z(i,t))}}),Object(h.jsx)("div",{className:pt.a.photos,children:e.photo.map((function(t){return Object(h.jsx)(st,{photo:t,isFavorite:gt(t.id,a)},t.id)}))})]})}var xt=a(48),_t=a.n(xt);var Et=function(){return Object(h.jsxs)("div",{className:_t.a.errorBlock,children:[Object(h.jsx)("div",{className:_t.a.number,children:"404"}),Object(h.jsx)("div",{className:_t.a.message,children:"Page not found!"}),Object(h.jsx)("div",{className:_t.a.cat,children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},It=a(70),St=a.n(It),Rt=function(){var t=Object(m.c)((function(t){return t.favorite}));return Object(h.jsx)("div",{className:St.a.favoritePageContainer,children:Object(h.jsx)("div",{className:St.a.photos,children:t.favorite.map((function(e){return Object(h.jsx)(st,{photo:e.favoritePhoto,isFavorite:gt(e.favoritePhotoId,t)},e.favoritePhotoId)}))})})},Ct=a(94),Tt=a.n(Ct),yt=a(93),Ft=a.n(yt),Nt=a(178),At=a(179),kt=function(){return Object(h.jsx)(Nt.a,{position:"static",style:{background:"#30ADD2"},children:Object(h.jsxs)(At.a,{style:{display:"flex",justifyContent:"space-between",width:"100%",paddingLeft:"30px"},children:[Object(h.jsx)("div",{className:Ft.a.title,children:Object(h.jsx)("h1",{children:"IMAGE FINDER"})}),Object(h.jsx)(Tt.a,{fontSize:"large"})]})})},Lt=a(180),Dt=a(95),Gt=a.n(Dt),wt=function(){return Object(h.jsx)("div",{style:{width:"100%"},children:Object(h.jsx)(Nt.a,{position:"static",color:"transparent",children:Object(h.jsx)(Lt.a,{maxWidth:"xl",children:Object(h.jsx)("div",{className:Gt.a.me,children:"  \xa9 2021 Nikolai Berestevich"})})})})},Ht="/find",Jt="/favor",Ut=function(){return Object(h.jsxs)("div",{className:s.a.app,children:[Object(h.jsx)(kt,{}),Object(h.jsxs)("div",{className:s.a.appHeader,children:[Object(h.jsxs)("div",{className:s.a.table,children:[Object(h.jsx)(p,{}),Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"/flicr-api-my-project"+Jt,render:function(){return Object(h.jsx)(Rt,{})}}),Object(h.jsx)(j.a,{path:"/flicr-api-my-project"+Ht,render:function(){return Object(h.jsx)(Pt,{})}}),Object(h.jsx)(j.a,{path:"/",render:function(){return Object(h.jsx)(Pt,{})}}),Object(h.jsx)(j.a,{render:function(){return Object(h.jsx)(Et,{})}})]})]}),Object(h.jsx)(wt,{})]})]})},Bt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(e){var a=e.getCLS,o=e.getFID,r=e.getFCP,n=e.getLCP,c=e.getTTFB;a(t),o(t),r(t),n(t),c(t)}))},Mt=a(96),Yt=a(39),zt=Object(Yt.c)({photos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:return Object(R.a)(Object(R.a)({},t),{},{page:e.page,pages:e.pages,photo:e.photos.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{tags:[]})})),isGettingPhotosSuccess:0!==e.photos.length});case A:return Object(R.a)(Object(R.a)({},t),{},{isGettingPhotosProgress:e.isGettingPhotosProgress});case k:return Object(R.a)(Object(R.a)({},t),{},{searchName:e.searchName});case L:return Object(R.a)(Object(R.a)({},t),{},{photo:t.photo.map((function(t){return t.id!==e.id||t.tags.includes(e.tag)?t:Object(R.a)(Object(R.a)({},t),{},{tags:[].concat(Object(S.a)(t.tags),[e.tag])})}))});case D:return Object(R.a)(Object(R.a)({},t),{},{photo:t.photo.map((function(t){if(t.id===e.id){var a=t.tags.indexOf(e.tag),o=Object(S.a)(t.tags);return a>-1&&o.splice(a,1),Object(R.a)(Object(R.a)({},t),{},{tags:o})}return t}))});case G:return Object(R.a)(Object(R.a)({},t),{},{page:e.page});case w:return Object(R.a)(Object(R.a)({},t),{},{newName:e.name});case H:return Object(R.a)(Object(R.a)({},t),{},{someError:e.err});default:return t}},favorite:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case K:return Object(R.a)(Object(R.a)({},t),{},{favorite:[].concat(Object(S.a)(t.favorite),[{favoritePhotoId:e.favoritePhotoId,favoritePhoto:e.favoritePhoto}])});case Z:return Object(R.a)(Object(R.a)({},t),{},{favorite:t.favorite.filter((function(t){return t.favoritePhotoId!==e.id}))});case q:return Object(R.a)(Object(R.a)({},t),{},{favorite:t.favorite.map((function(t){return t.favoritePhotoId!==e.id?t:Object(R.a)(Object(R.a)({},t),{},{favoritePhoto:Object(R.a)(Object(R.a)({},t.favoritePhoto),{},{tags:t.favoritePhoto.tags.includes(e.tag)?Object(S.a)(t.favoritePhoto.tags):[].concat(Object(S.a)(t.favoritePhoto.tags),[e.tag])})})}))});case X:return Object(R.a)(Object(R.a)({},t),{},{favorite:t.favorite.map((function(t){return t.favoritePhotoId!==e.id?t:Object(R.a)(Object(R.a)({},t),{},{favoritePhoto:Object(R.a)(Object(R.a)({},t.favoritePhoto),{},{tags:Object(S.a)(t.favoritePhoto.tags.filter((function(t){return t!==e.tag})))})})}))});default:return t}}}),Vt=Object(Yt.d)(zt,Object(Yt.a)(Mt.a));c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(u.a,{children:Object(h.jsx)(m.a,{store:Vt,children:Object(h.jsx)(Ut,{})})})}),document.getElementById("root")),Bt()},47:function(t,e,a){t.exports={photoContainer:"Photo_photoContainer__3S-0b",photoImage:"Photo_photoImage__2nPa4",searchZone:"Photo_searchZone__3LXgT",button:"Photo_button__ULexw"}},48:function(t,e,a){t.exports={errorBlock:"Error404_errorBlock__1JP_z",number:"Error404_number__2zcL7",message:"Error404_message__3_s_r",cat:"Error404_cat__2_JJr"}},56:function(t,e,a){t.exports={app:"App_app__YqG96",appHeader:"App_appHeader__1FPdJ",table:"App_table__1GIjm"}},68:function(t,e,a){t.exports={tags:"Tags_tags__6KoVa"}},69:function(t,e,a){t.exports={findPageContainer:"FindPage_findPageContainer__3PzPY",input:"FindPage_input__hISiJ",photos:"FindPage_photos__1b8wT",button:"FindPage_button__2vJET"}},70:function(t,e,a){t.exports={favoritePageContainer:"FavofitesPage_favoritePageContainer__3kYsf",photos:"FavofitesPage_photos__1nR9J"}},83:function(t,e,a){t.exports={navBlock:"Navigation_navBlock__3BpM4"}},93:function(t,e,a){t.exports={title:"Header_title__2JbDC"}},95:function(t,e,a){t.exports={me:"Footer_me__CKNuz"}}},[[136,1,2]]]);
//# sourceMappingURL=main.39671253.chunk.js.map