{"version":3,"sources":["components/Navigation/Navigation.tsx","api/api.ts","state/photosReducer.ts","state/favoriteReducer.ts","common/components/Tag/Tags.tsx","common/components/Photo/Photo.tsx","common/components/ProgressIndicator/ProgressIndicator.tsx","components/MyPaginator/MyPaginator.tsx","common/functions/isPhotoFavorite.ts","common/components/MyAlert/MyAlert.tsx","components/FindPage/FindPage.tsx","components/Error404/Error404.tsx","components/FavoritesPage/FavoritesPage.tsx","components/Header/Header.tsx","components/Footer/Footer.tsx","state/reduxStore.ts","App.tsx","reportWebVitals.ts","index.tsx","common/components/Photo/Photo.module.scss","components/Error404/Error404.module.scss","App.module.scss","common/components/Tag/Tags.module.scss","components/FindPage/FindPage.module.scss","components/FavoritesPage/FavofitesPage.module.scss","components/Navigation/Navigation.module.scss","components/Header/Header.module.scss","components/Footer/Footer.module.scss"],"names":["Navigation","className","styles","navBlock","to","FIND_IMAGE_PATH","fontSize","FAVORITES_PATH","apiKey","instance","axios","create","baseURL","photoAPI","text","page","get","params","api_key","format","per_page","nojsoncallback","sort","then","r","data","SET_PHOTOS","SET_PHOTOS_IS_GETTING_PROGRESS","SET_SEARCH_NAME","ADD_TAG","DELETE_TAG","SET_PAGE","SET_NEW_NAME","SET_NEW_ERROR","initialState","searchName","pages","perpage","total","photo","isGettingPhotosSuccess","isGettingPhotosProgress","newName","someError","setPhotos","photos","type","setIsGettingPhotosProgress","setPage","setNewError","err","getPhotos","dispatch","a","stat","SET_PHOTO_TO_FAVORITE","DELETE_PHOTO_FROM_FAVORITE","ADD_TAG_TO_FAVORITE","DELETE_TAG_FROM_FAVORITE","storageInitialState","favorite","keys","Object","localStorage","i","length","value","JSON","parse","getItem","k","push","favoritePhotoId","favoritePhoto","console","log","getInfoFromLocalStorage","addPhotoToFavorite","setPhotoToFavorite","setItem","stringify","removeFavoritePhoto","id","removeItem","addTagToFavoriteTC","tag","addTagToFavorite","tags","deleteTagFromFavoriteTC","deleteTagFromFavorite","filter","t","Tags","props","photoId","useDispatch","deleteTagHandler","deleteTag","isFavorite","map","index","singleTag","IconButton","size","onClick","Delete","color","Photo","React","memo","farm","secret","server","useState","tagInput","setTagInput","error","setError","addTagHandler","trim","addTag","imgSrc","photoContainer","photoImage","src","alt","button","Button","variant","TextField","label","onChange","e","currentTarget","onKeyPress","key","helperText","useStyles","makeStyles","theme","createStyles","root","display","margin","spacing","ProgressIndicator","classes","CircularProgress","MyPaginator","pagesCount","currentPage","onPageChanged","Pagination","count","event","showFirstButton","showLastButton","isPhotoFavorite","favoritePhotosPage","some","fP","maxWidth","MyAlert","isOpen","open","setOpen","handleClose","reason","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","errorMessage","action","aria-label","container1","width","flexGrow","item","padding","xs","itemFlexGrow","border","FindPage","state","useSelector","title","setTitle","useEffect","findPhotoHandler","name","findPageContainer","Grid","container","placeholder","fullWidth","ph","Error404","errorBlock","number","cat","FavoritesPage","favoritePageContainer","Header","AppBar","position","style","background","Toolbar","justifyContent","paddingLeft","Footer","Container","me","rootReducer","combineReducers","p","includes","tagIndex","indexOf","newtags","splice","favPhoto","store","createStore","applyMiddleware","thunk","App","app","appHeader","table","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.408b8826.chunk.js","sourcesContent":["import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport styles from \"./Navigation.module.scss\";\nimport {FAVORITES_PATH, FIND_IMAGE_PATH} from \"../../App\";\nimport CloudIcon from '@material-ui/icons/Cloud';\nimport CollectionsBookmarkIcon from '@material-ui/icons/CollectionsBookmark';\n\nexport const Navigation = () => {\n    return (\n        <div className={styles.navBlock}>\n            <NavLink to={FIND_IMAGE_PATH}>\n                <CloudIcon fontSize={\"large\"}/>\n            </NavLink>\n            <NavLink to={FAVORITES_PATH}>\n                < CollectionsBookmarkIcon fontSize={\"large\"}/>\n            </NavLink>\n        </div>\n    );\n}","import axios from \"axios\";\r\n\r\nconst apiKey = \"fe6a01fa9267d89be3df137d31d4607c\"\r\nconst instance = axios.create({\r\n    baseURL: `https://api.flickr.com/services/rest/`,\r\n})\r\n\r\nexport const photoAPI = {\r\n    getPhotos(text: string, page: number) {\r\n        return instance.get<GetPhotosResponseType>(\r\n            `?method=flickr.photos.search`\r\n            , {\r\n                params: {\r\n                    api_key: apiKey,\r\n                    format: \"json\",\r\n                    page,\r\n                    per_page: 20,\r\n                    text,\r\n                    nojsoncallback: true,\r\n                    sort: \"relevance\"\r\n                }\r\n            }\r\n        )\r\n            .then((r) => {\r\n                return r.data\r\n            })\r\n    },\r\n    //this request is not used yet\r\n    getOnePhoto(id: string = \"19549873603\") {\r\n        return instance.get<GetOnePhotoResponseType>(`?method=flickr.photos.getInfo&api_key=${apiKey}&photo_id=${id}&format=json&nojsoncallback=true`)\r\n            .then((r) => {\r\n                    return r.data\r\n                }\r\n            )\r\n    }\r\n}\r\n\r\n//types\r\nexport type GetPhotosResponseType = {\r\n    stat: string,\r\n    photos: {\r\n        page: number,\r\n        pages: number,\r\n        perpage: number,\r\n        total: string,\r\n        photo: Array<PhotoType>\r\n    }\r\n}\r\nexport type PhotoType = {\r\n    farm: number\r\n    id: string\r\n    isfamily: number\r\n    isfriend: number\r\n    ispublic: number\r\n    owner: string\r\n    secret: string\r\n    server: string\r\n    title: string\r\n}\r\nexport type GetOnePhotoResponseType = {\r\n    photo: {\r\n        comments: {\r\n            _content: string\r\n        }\r\n        dates: {\r\n            posted: string, taken: string, takengranularity: number, takenunknown: string, lastupdate: string\r\n        }\r\n        dateuploaded: string\r\n        description: { _content: string }\r\n        editability: { cancomment: number, canaddmeta: number }\r\n        farm: number\r\n        id: string\r\n        isfavorite: number\r\n        license: string\r\n        media: string\r\n        notes: { note: Array<string> }\r\n        originalformat: string\r\n        originalsecret: string\r\n        owner: {\r\n            iconfarm: number\r\n            iconserver: string\r\n            location: string\r\n            nsid: string\r\n            path_alias: null | string\r\n            realname: string\r\n            username: string\r\n        }\r\n        people: { haspeople: number }\r\n        publiceditability: { cancomment: number, canaddmeta: number }\r\n        rotation: number\r\n        safety_level: string\r\n        secret: string\r\n        server: string\r\n        tags: { tag: Array<string> }\r\n        title: { _content: string }\r\n        urls: { url: Array<string> }\r\n        usage: { candownload: number, canblog: number, canprint: number, canshare: number }\r\n        views: string\r\n        visibility: { ispublic: number, isfriend: number, isfamily: number }\r\n        stat: string\r\n    }\r\n}","import {photoAPI, PhotoType} from \"../api/api\";\r\nimport {ThunkType} from \"./reduxStore\";\r\n\r\n\r\n// for actions names\r\nconst SET_PHOTOS = \"FLICR-API-MY-Project/PHOTOS-REDUCER/SET-PHOTOS\";\r\nconst SET_PHOTOS_IS_GETTING_PROGRESS = \"FLICR-API-MY-Project/PHOTOS-REDUCER/SET-PHOTOS-IS-GETTING-PROGRESS\";\r\nconst SET_SEARCH_NAME = \"FLICR-API-MY-Project/PHOTOS-REDUCER/SET-SEARCH-NAME\";\r\nconst ADD_TAG = \"FLICR-API-MY-Project/PHOTOS-REDUCER/ADD-TAG\";\r\nconst DELETE_TAG = \"FLICR-API-MY-Project/PHOTOS-REDUCER/DELETE-TAG\";\r\nconst SET_PAGE = \"FLICR-API-MY-Project/PHOTOS-REDUCER/SET-PAGE\";\r\nconst SET_NEW_NAME = \"FLICR-API-MY-Project/PHOTOS-REDUCER/SET_NEW_NAME\"\r\nconst SET_NEW_ERROR = \"FLICR-API-MY-Project/PHOTOS-REDUCER/SET_NEW_ERROR\"\r\n\r\n\r\nexport type PhotoInStoreType = {\r\n    farm: number\r\n    id: string\r\n    isfamily: number\r\n    isfriend: number\r\n    ispublic: number\r\n    owner: string\r\n    secret: string\r\n    server: string\r\n    title: string\r\n    tags: Array<string>\r\n}\r\n\r\nexport type InitialStatePhotosReducerType = typeof initialState\r\n\r\nconst initialState = {\r\n    searchName: \"\",\r\n    page: 1,\r\n    pages: 0,\r\n    perpage: 0,\r\n    total: \"\",\r\n    photo: [] as Array<PhotoInStoreType>,\r\n    isGettingPhotosSuccess: true,\r\n    isGettingPhotosProgress: false,\r\n    newName: \"\",\r\n    someError: \"\"\r\n}\r\n\r\n\r\nexport const photosReducer =\r\n    (state = initialState, action: PhotosReducerActionsType): InitialStatePhotosReducerType => {\r\n        switch (action.type) {\r\n            case SET_PHOTOS:\r\n                return {\r\n                    ...state,\r\n                    page: action.page,\r\n                    pages: action.pages,\r\n                    photo: action.photos.map(p => ({...p, tags: []})),\r\n                    isGettingPhotosSuccess: action.photos.length !== 0\r\n                }\r\n\r\n            case SET_PHOTOS_IS_GETTING_PROGRESS:\r\n                return {...state, isGettingPhotosProgress: action.isGettingPhotosProgress}\r\n\r\n            case SET_SEARCH_NAME:\r\n                return {...state, searchName: action.searchName}\r\n\r\n            case ADD_TAG:\r\n                return {\r\n                    ...state,\r\n                    photo: state.photo.map(\r\n                        p => (\r\n                            (p.id === action.id && !p.tags.includes(action.tag)) // check for duplicate tag\r\n                                ?\r\n                                {\r\n                                    ...p,\r\n                                    tags: [...p.tags, action.tag]\r\n                                }\r\n                                : p)\r\n                    )\r\n                }\r\n\r\n            case DELETE_TAG:\r\n                return {\r\n                    ...state,\r\n                    photo: state.photo.map(\r\n                        p => {\r\n                            if (p.id === action.id) {\r\n                                let tagIndex = p.tags.indexOf(action.tag) // to find index of tag\r\n                                let newtags = [...p.tags] // copy for splice\r\n                                if (tagIndex > -1)    // no possibility to use 2 several same tags\r\n                                    newtags.splice(tagIndex, 1)\r\n                                return {\r\n                                    ...p\r\n                                    ,\r\n                                    tags: newtags\r\n                                }\r\n                            } else return p\r\n                        }\r\n                    )\r\n                }\r\n            case SET_PAGE:\r\n                return {\r\n                    ...state,\r\n                    page: action.page\r\n                }\r\n            case SET_NEW_NAME:\r\n                return {\r\n                    ...state,\r\n                    newName: action.name\r\n                }\r\n            case SET_NEW_ERROR:\r\n                return {\r\n                    ...state,\r\n                    someError: action.err\r\n                }\r\n\r\n            default:\r\n                return state\r\n        }\r\n    }\r\n//ActionCreators\r\n\r\nexport const setPhotos = (photos: Array<PhotoType>, page: number, pages: number) => (\r\n    {type: SET_PHOTOS, photos, page, pages} as const);\r\nexport const setIsGettingPhotosProgress = (isGettingPhotosProgress: boolean) =>\r\n    ({type: SET_PHOTOS_IS_GETTING_PROGRESS, isGettingPhotosProgress} as const);\r\nexport const setSearchName = (searchName: string) => ({type: SET_SEARCH_NAME, searchName} as const);\r\nexport const addTag = (id: string, tag: string) => ({type: ADD_TAG, id, tag} as const);\r\nexport const deleteTag = (id: string, tag: string) => ({type: DELETE_TAG, id, tag} as const);\r\nexport const setPage = (page: number) => ({type: SET_PAGE, page} as const);\r\nexport const setNewName = (name: string) => ({type: SET_NEW_NAME, name} as const);\r\nexport const setNewError = (err: string) => ({type: SET_NEW_ERROR, err} as const);\r\n\r\n\r\n//ThunksCreators\r\nexport const getPhotos = (text: string, page: number): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(setIsGettingPhotosProgress(true));\r\n        dispatch(setPage(page));\r\n        try {\r\n            const data = await photoAPI.getPhotos(text, page);\r\n            if (data.stat === \"ok\") {\r\n                dispatch(setPhotos(data.photos.photo, data.photos.page, data.photos.pages))\r\n                dispatch(setNewError(\"\"))\r\n            }\r\n        } catch {\r\n            dispatch(setNewError(\"no connection\"))\r\n        }\r\n        dispatch(setIsGettingPhotosProgress(false));\r\n    }\r\n\r\n\r\n//ActionTypes\r\ntype setPhotosActionType = ReturnType<typeof setPhotos>\r\ntype setIsGettingPhotosProgressActionType = ReturnType<typeof setIsGettingPhotosProgress>\r\ntype setSearchNameActionType = ReturnType<typeof setSearchName>\r\ntype addTagActionType = ReturnType<typeof addTag>\r\ntype deleteTagActionType = ReturnType<typeof deleteTag>\r\ntype setPageActionType = ReturnType<typeof setPage>\r\ntype setNewNameActionType = ReturnType<typeof setNewName>\r\ntype setNewErrorActionType = ReturnType<typeof setNewError>\r\n\r\n\r\n// common ActionsType of this reducer\r\nexport type PhotosReducerActionsType =\r\n    setPhotosActionType | setIsGettingPhotosProgressActionType | setSearchNameActionType | addTagActionType\r\n    | deleteTagActionType | setPageActionType | setNewNameActionType | setNewErrorActionType\r\n","import {ActionsType, AppRootStateType, ThunkType} from \"./reduxStore\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {PhotoInStoreType} from \"./photosReducer\";\r\n\r\n// for actions names\r\nconst SET_PHOTO_TO_FAVORITE = \"FLICR-API/FAVORITE-REDUCER/SET_F_PHOTO\";\r\nconst DELETE_PHOTO_FROM_FAVORITE = \"FLICR-API/FAVORITE-REDUCER/DELETE-F-PHOTO\";\r\nconst ADD_TAG_TO_FAVORITE = \"FLICR-API/FAVORITE-REDUCER/ADD-TAG-TO-FAVORITE\";\r\nconst DELETE_TAG_FROM_FAVORITE = \"FLICR-API/FAVORITE-REDUCER/DELETE-TAG-F-FAVORITE\";\r\n\r\nexport type FavoritePhotoType = {\r\n    favoritePhotoId: string,\r\n    favoritePhoto: PhotoInStoreType\r\n}\r\n\r\nexport type InitialStateFavoriteReducerType = {\r\n    favorite: Array<FavoritePhotoType>\r\n}\r\n\r\n\r\n// function to set initial state from localeStorage\r\nconst getInfoFromLocalStorage = (): InitialStateFavoriteReducerType => {\r\n    let storageInitialState: InitialStateFavoriteReducerType = {favorite: []}\r\n    try {\r\n        let keys: Array<string> = Object.keys(localStorage)\r\n        let i = keys.length;\r\n        while (i--) {\r\n            let value = JSON.parse(localStorage.getItem(keys[i]) as string);\r\n            let k: string = keys[i]\r\n            storageInitialState.favorite.push({favoritePhotoId: k, favoritePhoto: value})\r\n        }\r\n    } catch {\r\n        console.log(\"The app can't get data from localeStorage\")\r\n    }\r\n    return storageInitialState;\r\n}\r\n\r\nconst initialState: InitialStateFavoriteReducerType = getInfoFromLocalStorage()\r\n\r\nexport const favoriteReducer =\r\n    (state = initialState, action: FavoriteReducerActionsType): InitialStateFavoriteReducerType => {\r\n        switch (action.type) {\r\n\r\n            case SET_PHOTO_TO_FAVORITE:\r\n                return {\r\n                    ...state,\r\n                    favorite: [\r\n                        ...state.favorite, {\r\n                            favoritePhotoId: action.favoritePhotoId,\r\n                            favoritePhoto: action.favoritePhoto\r\n                        }\r\n                    ]\r\n                }\r\n            case DELETE_PHOTO_FROM_FAVORITE:\r\n                return {\r\n                    ...state,\r\n                    favorite: state.favorite.filter(favPhoto => favPhoto.favoritePhotoId !== action.id)\r\n                }\r\n            case ADD_TAG_TO_FAVORITE:\r\n                return {\r\n                    ...state,\r\n                    favorite: state.favorite.map(favPhoto => (favPhoto.favoritePhotoId !== action.id)\r\n                        ? favPhoto //if photo is not favorite\r\n                        : {\r\n                            ...favPhoto, favoritePhoto:\r\n                                {\r\n                                    ...favPhoto.favoritePhoto, tags:\r\n                                        (favPhoto.favoritePhoto.tags.includes(action.tag)) // don't add 2 several tags\r\n                                            ? [...favPhoto.favoritePhoto.tags]\r\n                                            : [...favPhoto.favoritePhoto.tags, action.tag]\r\n                                }\r\n                        }\r\n                    )\r\n                }\r\n            case DELETE_TAG_FROM_FAVORITE:\r\n\r\n                return {\r\n                    ...state,\r\n                    favorite: state.favorite.map(favPhoto => (favPhoto.favoritePhotoId !== action.id)\r\n                        ? favPhoto\r\n                        : {\r\n                            ...favPhoto, favoritePhoto:\r\n                                {\r\n                                    ...favPhoto.favoritePhoto,\r\n                                    tags: [...favPhoto.favoritePhoto.tags.filter(t => t !== action.tag)]\r\n                                }\r\n                        }\r\n                    )\r\n                }\r\n            default:\r\n                return state\r\n        }\r\n    }\r\n\r\n//ActionCreators\r\nexport const setPhotoToFavorite = (favoritePhotoId: string, favoritePhoto: PhotoInStoreType) => (\r\n    {type: SET_PHOTO_TO_FAVORITE, favoritePhotoId, favoritePhoto} as const);\r\nexport const deletePhotoFromFavorite = (id: string) => (\r\n    {type: DELETE_PHOTO_FROM_FAVORITE, id} as const);\r\nexport const addTagToFavorite = (id: string, tag: string) => (\r\n    {type: ADD_TAG_TO_FAVORITE, id, tag} as const);\r\nexport const deleteTagFromFavorite = (id: string, tag: string) => (\r\n    {type: DELETE_TAG_FROM_FAVORITE, id, tag} as const);\r\n\r\n// ThunksCreators\r\nexport const addPhotoToFavorite = (favoritePhotoId: string, favoritePhoto: PhotoInStoreType): ThunkType =>\r\n    (dispatch: ThunkDispatch<AppRootStateType, unknown, ActionsType>) => {\r\n        dispatch(setPhotoToFavorite(favoritePhotoId, favoritePhoto));\r\n        try {\r\n            localStorage.setItem(favoritePhotoId, JSON.stringify(favoritePhoto))\r\n        } catch {\r\n            console.log(\"image can't be added to LocaleStorage\")\r\n        }\r\n    }\r\n\r\nexport const removeFavoritePhoto = (favoritePhotoId: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(deletePhotoFromFavorite(favoritePhotoId));\r\n        try {\r\n            localStorage.removeItem(favoritePhotoId)\r\n        } catch {\r\n            console.log(\"image can't be deleted from LocaleStorage\")\r\n        }\r\n    }\r\n\r\nexport const addTagToFavoriteTC = (id: string, tag: string): ThunkType =>\r\n    (dispatch ) => {\r\n        dispatch(addTagToFavorite(id, tag));\r\n        try {\r\n            let favoritePhoto: PhotoInStoreType = JSON.parse(localStorage.getItem(id) as string)\r\n            favoritePhoto = {...favoritePhoto, tags: [...favoritePhoto.tags, tag]}\r\n            localStorage.setItem(id, JSON.stringify(favoritePhoto))\r\n        } catch {\r\n            console.log(\"tag can't be added to LocaleStorageTS\")\r\n        }\r\n\r\n    }\r\n\r\nexport const deleteTagFromFavoriteTC = (id: string, tag: string): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(deleteTagFromFavorite(id, tag));\r\n        try {\r\n            let favoritePhoto: PhotoInStoreType = JSON.parse(localStorage.getItem(id) as string)\r\n            favoritePhoto = {...favoritePhoto, tags: [...favoritePhoto.tags.filter(t => t !== tag ? 1 : -1)]}\r\n            localStorage.setItem(id, JSON.stringify(favoritePhoto))\r\n        } catch {\r\n            console.log(\"tag can't be deleted from LocaleStorageTS\")\r\n        }\r\n    }\r\n\r\n//ActionTypes\r\ntype SetPhotoToFavoriteActionType = ReturnType<typeof setPhotoToFavorite>\r\ntype DeletePhotoFromFavoriteActionType = ReturnType<typeof deletePhotoFromFavorite>\r\ntype AddTagToFavoriteActionType = ReturnType<typeof addTagToFavorite>\r\ntype DeleteTagFromFavoriteActionType = ReturnType<typeof deleteTagFromFavorite>\r\n\r\n\r\n// common ActionsType of this reducer\r\nexport type FavoriteReducerActionsType =\r\n    SetPhotoToFavoriteActionType | DeletePhotoFromFavoriteActionType\r\n    | AddTagToFavoriteActionType | DeleteTagFromFavoriteActionType\r\n","import React from \"react\";\r\nimport {IconButton} from \"@material-ui/core\";\r\nimport {Delete} from \"@material-ui/icons\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deleteTag} from \"../../../state/photosReducer\";\r\nimport {deleteTagFromFavoriteTC} from \"../../../state/favoriteReducer\";\r\nimport styles from \"./Tags.module.scss\"\r\n\r\ntype TagPropsType = {\r\n    photoId: string\r\n    tags: Array<string>,\r\n    isFavorite?: boolean\r\n}\r\n\r\n\r\nexport const Tags: React.FC<TagPropsType> = (props) => {\r\n    const {tags, photoId} = props\r\n    const dispatch = useDispatch()\r\n\r\n    const deleteTagHandler = (tag: string) => () => {\r\n        dispatch(deleteTag(photoId, tag))\r\n        if (props.isFavorite) {\r\n            dispatch(deleteTagFromFavoriteTC(photoId, tag))\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.tags}>\r\n            {tags.map((t, index) => (\r\n                <div className={styles.singleTag}\r\n                     key={t + index}>\r\n                    <span> {t}</span>\r\n                    <IconButton size=\"small\" onClick={deleteTagHandler(t)}><Delete color=\"primary\"/></IconButton>\r\n                </div>\r\n            ))}</div>\r\n    )\r\n\r\n}","import React, {ChangeEvent, FC, useState} from \"react\";\r\nimport {Button, TextField} from \"@material-ui/core\";\r\nimport {addTag, PhotoInStoreType} from \"../../../state/photosReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Tags} from \"../Tag/Tags\";\r\nimport {addPhotoToFavorite, addTagToFavoriteTC, removeFavoritePhoto} from \"../../../state/favoriteReducer\";\r\nimport styles from \"./Photo.module.scss\"\r\n\r\ntype PhotoPropsType = {\r\n    photo: PhotoInStoreType\r\n    isFavorite?: boolean\r\n}\r\nexport const Photo: FC<PhotoPropsType> = React.memo((props) => {\r\n    const {farm, tags, id, secret, server} = props.photo\r\n    const dispatch = useDispatch()\r\n    const [tagInput, setTagInput] = useState(\"\")\r\n    const [error, setError] = useState<string>(\"\")\r\n\r\n    const inputTagHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.currentTarget.value.length < 16) {\r\n            setTagInput(e.currentTarget.value)\r\n            setError(\"\")\r\n        } else {\r\n            setError(\"long tag\")\r\n        }\r\n    }\r\n\r\n    const onKeyPressHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (error !== \"\") setError(\"\")\r\n        if (e.key === \"Enter\") addTagHandler()\r\n    }\r\n\r\n    const addTagHandler = () => {\r\n        if (tagInput.trim() !== \"\") {\r\n            dispatch(addTag(id, tagInput))\r\n            if (props.isFavorite) {\r\n                dispatch(addTagToFavoriteTC(id, tagInput))\r\n            }\r\n            setTagInput(\"\")\r\n        } else {\r\n            setError(\"Please, add tag\")\r\n        }\r\n    }\r\n\r\n    const OnClickHandler = () => {\r\n        if (props.isFavorite) {\r\n            dispatch(removeFavoritePhoto(id))\r\n        } else {\r\n            dispatch(addPhotoToFavorite(id, props.photo))\r\n        }\r\n    }\r\n\r\n    const imgSrc = `https://farm${farm}.staticflickr.com/${server}/${id}_${secret}.jpg)`\r\n\r\n    return (\r\n        <div className={styles.photoContainer}>\r\n            <img className={styles.photoImage} src={imgSrc} alt=\"img is loading :)\"/>\r\n            <div className={styles.button}>\r\n                <Button\r\n                    onClick={OnClickHandler}\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                >\r\n                    {props.isFavorite ? \"Remove  It!\" : \"Bookmark  it!\"}</Button>\r\n            </div>\r\n            <Tags\r\n                tags={tags}\r\n                photoId={id}\r\n                isFavorite={props.isFavorite}\r\n            />\r\n            <TextField className={styles.button}\r\n                       type=\"text\"\r\n                       value={tagInput}\r\n                       label=\"some tags?\"\r\n                       onChange={inputTagHandler}\r\n                       onKeyPress={onKeyPressHandler}\r\n                       variant=\"outlined\"\r\n                       error={!!error}\r\n                       helperText={error}\r\n            />\r\n        </div>\r\n    )\r\n})","import {makeStyles, Theme, createStyles} from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: 'flex',\r\n            '& > * + *': {\r\n                margin: theme.spacing(2),\r\n            },\r\n        },\r\n    }),\r\n);\r\n\r\nconst ProgressIndicator = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CircularProgress color=\"secondary\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProgressIndicator","import React from \"react\";\r\nimport {Pagination} from \"@material-ui/lab\";\r\n\r\ntype MyPaginatorPropsType = {\r\n    pagesCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const MyPaginator:React.FC<MyPaginatorPropsType> = (props) => {\r\n\r\n    const {pagesCount, currentPage, onPageChanged}=props\r\n\r\n    const onPageChangedHandler = (event: React.ChangeEvent<unknown>, value: number) => {\r\n        onPageChanged(value)\r\n    }\r\n\r\n    return <>\r\n\r\n        {pagesCount === 0 ?\r\n            <></>\r\n            : < Pagination count={pagesCount} page={currentPage}\r\n                           onChange={onPageChangedHandler}\r\n                           showFirstButton showLastButton/>\r\n        }\r\n    </>\r\n}","import {InitialStateFavoriteReducerType} from \"../../state/favoriteReducer\";\r\n\r\n\r\n\r\n export const isPhotoFavorite =  (id: string, favoritePhotosPage: InitialStateFavoriteReducerType)=> {\r\n    return favoritePhotosPage?.favorite.some(fP => fP.favoritePhotoId === id)\r\n}","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\ntype MyAlertPropsType = {\r\n    isOpen: boolean\r\n    errorMessage: string\r\n}\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        maxWidth: \"200px\",\r\n    },\r\n    label: {maxWidth: \"100%\"},\r\n});\r\nexport default function MyAlert(props: MyAlertPropsType) {\r\n\r\n    const [open, setOpen] = React.useState(props.isOpen);\r\n\r\n    const handleClose = (event: React.SyntheticEvent | React.MouseEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        setOpen(false);\r\n    };\r\n    const classes = useStyles();\r\n    return (\r\n            <Snackbar className={classes.root}\r\n                      anchorOrigin={{\r\n                          vertical: 'top',\r\n                          horizontal: 'left',\r\n                      }}\r\n                      open={open}\r\n                      autoHideDuration={3000}\r\n                      onClose={handleClose}\r\n                      message={props.errorMessage}\r\n                      action={<IconButton\r\n                          className={classes.label} size=\"small\"\r\n                          aria-label=\"close\"\r\n                          color=\"inherit\"\r\n                          onClick={handleClose}>\r\n                                  <CloseIcon fontSize=\"small\"/>\r\n                              </IconButton>\r\n                      }\r\n            />\r\n    );\r\n}\r\n","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../state/reduxStore\";\r\nimport {Photo} from \"../../common/components/Photo/Photo\";\r\nimport React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport {getPhotos, setNewName} from \"../../state/photosReducer\";\r\nimport ProgressIndicator from \"../../common/components/ProgressIndicator/ProgressIndicator\";\r\nimport {MyPaginator} from \"../MyPaginator/MyPaginator\";\r\nimport {isPhotoFavorite} from \"../../common/functions/isPhotoFavorite\";\r\nimport styles from \"./FindPage.module.scss\"\r\nimport {Button, Grid, TextField} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport MyAlert from \"../../common/components/MyAlert/MyAlert\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container1: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        flexGrow: 1,\r\n        margin: \"auto\"\r\n    },\r\n    item: {\r\n        padding: theme.spacing(2),\r\n        xs: \"12\"\r\n    },\r\n    itemFlexGrow: {\r\n        flexGrow: 1,\r\n        border: \"1px solid red\"\r\n    }\r\n}));\r\n\r\nexport default function FindPage() {\r\n    const state = useSelector<AppRootStateType, AppRootStateType>(state => state)\r\n    const {photos, favorite} = state\r\n    const dispatch = useDispatch()\r\n    const [title, setTitle] = useState<string>(photos.newName)\r\n    const [error, setError] = useState<string>(state.photos.someError)\r\n    const classes = useStyles();\r\n    useEffect(() => {\r\n        setError(photos.someError)\r\n    }, [photos.someError])\r\n\r\n    const inputNameHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value)\r\n        setError(\"\")\r\n    }\r\n\r\n    const onKeyPressHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (error !== \"\") setError(\"\")\r\n        if (e.key === \"Enter\") findPhotoHandler()\r\n    }\r\n\r\n    const findPhotoHandler = () => {\r\n        if (title.trim() !== \"\") {\r\n            dispatch(getPhotos(title, photos.page))\r\n            dispatch(setNewName(title))\r\n        } else {\r\n            setError(\"Please, add name to find image\")\r\n        }\r\n    }\r\n\r\n    const onPageChanged = (page: number) => {\r\n        dispatch(getPhotos(title, page))\r\n    }\r\n\r\n    if (photos.isGettingPhotosProgress) {\r\n        return <ProgressIndicator/>\r\n    }\r\n\r\n    return <div className={styles.findPageContainer}>\r\n        {\r\n            !photos.isGettingPhotosSuccess &&\r\n            <MyAlert errorMessage={\" Empty result of the searsh :( \"} isOpen={true}/>\r\n        }\r\n        <div className={classes.container1}>\r\n            <Grid container>\r\n                <Grid className={classes.item} item xs={8}>\r\n                    <TextField\r\n                        type=\"text\"\r\n                        value={title}\r\n                        onChange={inputNameHandler}\r\n                        onKeyPress={onKeyPressHandler}\r\n                        variant=\"outlined\"\r\n                        placeholder={\"Print your search\"}\r\n                        error={error !== \"\"} // convert sting error to boolean\r\n                        helperText={error}\r\n                        fullWidth={true}\r\n                        size={\"medium\"}\r\n                    />\r\n                </Grid>\r\n                <Grid className={classes.item} item xs={4}>\r\n                    <Button\r\n                        onClick={findPhotoHandler}\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        size=\"large\"\r\n                    >FIND</Button>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n\r\n        <MyPaginator\r\n            currentPage={photos.page}\r\n            /*4000 photos is max for not registered users*/\r\n            pagesCount={photos.pages > 200 ? 200 : photos.pages}\r\n            onPageChanged={onPageChanged}/>\r\n        <div className={styles.photos}>\r\n            {photos.photo.map(ph => <Photo\r\n                    key={ph.id}\r\n                    photo={ph}\r\n                    isFavorite={isPhotoFavorite(ph.id, favorite)}\r\n                />\r\n            )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n","import React from \"react\";\nimport styles from './Error404.module.scss'\n\nfunction Error404() {\n    return (\n        <div className={styles.errorBlock}>\n            <div className={styles.number}>404</div>\n            <div className={styles.message}>Page not found!</div>\n            <div className={styles.cat}>—ฅ/ᐠ.̫ .ᐟ\\ฅ—</div>\n        </div>\n    );\n}\n\nexport default Error404;\n\n","import {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../state/reduxStore\";\r\nimport {InitialStateFavoriteReducerType} from \"../../state/favoriteReducer\";\r\nimport {Photo} from \"../../common/components/Photo/Photo\";\r\nimport {isPhotoFavorite} from \"../../common/functions/isPhotoFavorite\";\r\nimport styles from \"./FavofitesPage.module.scss\"\r\nimport React from \"react\";\r\nimport MyAlert from \"../../common/components/MyAlert/MyAlert\";\r\n\r\nexport const FavoritesPage = () => {\r\n\r\n    const favoritePhotosPage = useSelector<AppRootStateType, InitialStateFavoriteReducerType>(state => state.favorite)\r\n\r\n    return (\r\n        <div className={styles.favoritePageContainer}>\r\n\r\n            <div className={styles.photos}>\r\n                {favoritePhotosPage.favorite.length === 0\r\n                    ?\r\n                    <MyAlert errorMessage={\" No favorite photos \"} isOpen={true}/>\r\n                    :\r\n                    <></>\r\n                }\r\n                {favoritePhotosPage.favorite.map(photo =>\r\n                    <Photo key={photo.favoritePhotoId}\r\n                           photo={photo.favoritePhoto}\r\n                           isFavorite={isPhotoFavorite(photo.favoritePhotoId, favoritePhotosPage)}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport styles from './Header.module.scss'\r\nimport {AppBar, Toolbar} from \"@material-ui/core\";\r\n\r\n\r\nexport const Header = () => {\r\n    return <AppBar position=\"static\" style={{background: '#30ADD2'}}>\r\n        <Toolbar style={{display: \"flex\", justifyContent: \"space-between\", width: \"100%\", paddingLeft: \"30px\"}}>\r\n            <div className={styles.title}><h1>IMAGE FINDER</h1></div>\r\n            <AccountCircleIcon fontSize=\"large\"/>\r\n        </Toolbar>\r\n    </AppBar>\r\n}","import {AppBar, Container} from \"@material-ui/core\";\r\nimport styles from \"./Footer.module.scss\";\r\n\r\nexport const Footer = () => {\r\n    return (<div style={{width: \"100%\"}}>\r\n            <AppBar position=\"static\" color=\"transparent\">\r\n                <Container maxWidth=\"xl\">\r\n                    <div className={styles.me}>  © 2021 Nikolai Berestevich</div>\r\n                </Container>\r\n            </AppBar>\r\n        </div>\r\n    )\r\n}","import thunk, {ThunkAction} from \"redux-thunk\";\r\nimport {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {photosReducer, PhotosReducerActionsType} from \"./photosReducer\";\r\nimport {favoriteReducer, FavoriteReducerActionsType} from \"./favoriteReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    photos: photosReducer,\r\n    favorite:favoriteReducer\r\n})\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport type ActionsType =PhotosReducerActionsType | FavoriteReducerActionsType\r\n\r\nexport type ThunkType = ThunkAction<void, AppRootStateType, unknown, ActionsType>\r\n\r\n","import style from './App.module.scss';\nimport {HashRouter, Route, Switch} from 'react-router-dom';\nimport {Navigation} from \"./components/Navigation/Navigation\";\nimport FindPage from './components/FindPage/FindPage';\nimport Error404 from './components/Error404/Error404';\nimport {FavoritesPage} from \"./components/FavoritesPage/FavoritesPage\";\nimport {Header} from \"./components/Header/Header\";\nimport {Footer} from \"./components/Footer/Footer\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./state/reduxStore\";\nimport React from \"react\";\n\n// PATH\nexport const FIND_IMAGE_PATH = '/';\nexport const FAVORITES_PATH = '/favorite';\n\nconst App = () => {\n\n    return (\n        <Provider store={store}>\n            <HashRouter>\n                <div className={style.app}>\n                    <Header/>\n                    <div className={style.appHeader}>\n                        <div className={style.table}>\n                            <Navigation/>\n                            <Switch>\n                                <Route exact path={\"/\"} render={() => <FindPage/>}/>\n                                <Route exact path={FAVORITES_PATH} render={() => <FavoritesPage/>}/>\n                                <Route render={() => <Error404/>}/>\n                            </Switch>\n                        </div>\n                        <Footer/>\n                    </div>\n                </div>\n            </HashRouter>\n        </Provider>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoContainer\":\"Photo_photoContainer__3S-0b\",\"photoImage\":\"Photo_photoImage__2nPa4\",\"searchZone\":\"Photo_searchZone__3LXgT\",\"button\":\"Photo_button__ULexw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBlock\":\"Error404_errorBlock__1JP_z\",\"number\":\"Error404_number__2zcL7\",\"message\":\"Error404_message__3_s_r\",\"cat\":\"Error404_cat__2_JJr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__YqG96\",\"appHeader\":\"App_appHeader__1FPdJ\",\"table\":\"App_table__1GIjm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tags\":\"Tags_tags__6KoVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"findPageContainer\":\"FindPage_findPageContainer__3PzPY\",\"input\":\"FindPage_input__hISiJ\",\"photos\":\"FindPage_photos__1b8wT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"favoritePageContainer\":\"FavofitesPage_favoritePageContainer__3kYsf\",\"photos\":\"FavofitesPage_photos__1nR9J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBlock\":\"Navigation_navBlock__3BpM4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Header_title__2JbDC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"me\":\"Footer_me__CKNuz\"};"],"sourceRoot":""}